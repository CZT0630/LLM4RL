# config.yaml
# äº‘è¾¹ç«¯ä¸‰å±‚æ¶æ„å®éªŒé…ç½® - ç®€åŒ–è®¾å¤‡æ¨¡å‹ç‰ˆæœ¬
# UE: CPUé¢‘ç‡ + ä»»åŠ¡è´Ÿè½½
# ES: CPUé¢‘ç‡ + ä»»åŠ¡è´Ÿè½½
# CS: CPUé¢‘ç‡ï¼ˆèµ„æºæ— é™ï¼‰

# ç¯å¢ƒé…ç½®
environment:
  name: "cloud_edge_env"
  
  # ç³»ç»Ÿæ¶æ„å‚æ•°ï¼ˆæŒ‰ç®€åŒ–è¦æ±‚è°ƒæ•´ï¼‰
  num_devices: 10       # ç«¯ä¾§è®¾å¤‡æ•°é‡ï¼ˆUEï¼‰
  num_edges: 5          # è¾¹ç¼˜æœåŠ¡å™¨æ•°é‡ï¼ˆESï¼Œå¢åŠ åˆ°5ä¸ªï¼‰  
  num_clouds: 1         # äº‘æœåŠ¡å™¨æ•°é‡ï¼ˆCSï¼‰

  # åŠ¨ä½œç©ºé—´é…ç½®
  action_space:
    type: "continuous"
    dimension: 4       # [Î±1, Î±2, Î±3, edge_id] 
    
  # çŠ¶æ€ç©ºé—´é…ç½®ï¼ˆç®€åŒ–ç‰ˆï¼‰
  state_space:
    normalize: true
    include_task_info: true
    # ç®€åŒ–åçš„çŠ¶æ€ç»´åº¦ï¼š
    # UE: 2ä¸ªç‰¹å¾ Ã— 10è®¾å¤‡ = 20
    # ES: 2ä¸ªç‰¹å¾ Ã— 5æœåŠ¡å™¨ = 10  
    # CS: 1ä¸ªç‰¹å¾ Ã— 1æœåŠ¡å™¨ = 1
    # ä»»åŠ¡: 6ä¸ªç‰¹å¾ Ã— 10ä»»åŠ¡ = 60
    # æ€»è®¡: 91ç»´

# è®¾å¤‡é…ç½®ï¼ˆç®€åŒ–ç‰ˆï¼‰
device_specs:
  user_equipment:
    count: 10
    # ç®€åŒ–å±æ€§ï¼šCPUé¢‘ç‡ + ä»»åŠ¡è´Ÿè½½
    cpu_frequency_range: [0.5, 0.8]    # GHzï¼Œå¼‚æ„é…ç½®
    alpha_ue: 1e-10                     # J/cycleï¼ˆèƒ½è€—ç³»æ•°ï¼‰
    transmission_power: 0.5             # Wï¼ˆä¼ è¾“åŠŸç‡ï¼‰
    
    # å·®å¼‚åŒ–é€šä¿¡é…ç½®
    transmission_rate_to_edge: 1e8      # 100Mbpsï¼ˆUEâ†’è¾¹ç¼˜ï¼Œ6Gæ— çº¿ï¼‰
    transmission_rate_to_cloud: 1e9   # 1 Gbpsï¼ˆUEâ†’äº‘ç«¯ï¼Œç»è¾¹ç¼˜ä¸­è½¬ï¼Œæ€»å»¶è¿Ÿæ›´é«˜ï¼‰
    
  edge_servers:
    count: 5
    # ç®€åŒ–å±æ€§ï¼šCPUé¢‘ç‡ + ä»»åŠ¡è´Ÿè½½
    cpu_frequencies: [5, 6, 7, 8, 9]  # GHzï¼Œå¼‚æ„é…ç½®
    alpha_es: 3e-10                     # J/cycleï¼ˆèƒ½è€—ç³»æ•°ï¼‰
    transmission_rate_to_cloud: 1e8    # 1 Gbpsï¼ˆè¾¹ç¼˜â†’äº‘ç«¯ï¼‰
    
  cloud_servers:
    count: 1
    # ç®€åŒ–å±æ€§ï¼šä»…CPUé¢‘ç‡ï¼ˆèµ„æºæ— é™ï¼‰
    cpu_frequency: 20                   # GHz
    alpha_cs: 3e-10                    # J/cycleï¼ˆèƒ½è€—ç³»æ•°ï¼‰
    parallel_factor: 8.0               # å¼ºå¤§çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›

# ç½‘ç»œé…ç½®ï¼ˆå·®å¼‚åŒ–é€šä¿¡å»¶è¿Ÿï¼‰
network:
  # è¾¹ç¼˜é€šä¿¡ï¼šå¿«é€Ÿã€ä½å»¶è¿Ÿ
  ue_to_edge_rate: 1e8        # 1 Gbps (6Gæ— çº¿ï¼Œç›´è¿)
  
  # äº‘ç«¯é€šä¿¡ï¼šæ…¢é€Ÿã€é«˜å»¶è¿Ÿï¼ˆéœ€è¦ä¸­è½¬ï¼‰  
  ue_to_cloud_total_rate: 10e6  # 10 Mbps (UEâ†’è¾¹ç¼˜â†’äº‘çš„æ€»å¸¦å®½)
  edge_to_cloud_rate: 1e8    # 1 Gbps (è¾¹ç¼˜â†’äº‘ç«¯ï¼Œå…‰çº¤)
  
  # å»¶è¿Ÿæ¨¡å‹è¯´æ˜ï¼š
  # - è¾¹ç¼˜å¸è½½ï¼šUEç›´æ¥ä¼ è¾“åˆ°è¾¹ç¼˜ï¼Œä½å»¶è¿Ÿ
  # - äº‘ç«¯å¸è½½ï¼šUEâ†’è¾¹ç¼˜â†’äº‘ç«¯çš„ä¸¤è·³ä¼ è¾“ï¼Œé«˜å»¶è¿Ÿ
  # - äº‘ç«¯èµ„æºæ— é™ï¼Œæ— ç­‰å¾…æ—¶é—´
  # - è¾¹ç¼˜èµ„æºæœ‰é™ï¼Œå­˜åœ¨é˜Ÿåˆ—ç­‰å¾…

# ä»»åŠ¡ç‰¹æ€§é…ç½®  
tasks:
  processing_density: 0.2e9  # 0.2 Gcycles/MB
  
  # ä»»åŠ¡ç±»å‹å®šä¹‰
  task_types:
    small:
      data_range: [1.5, 2]       # MB
      description: "ä¼ æ„Ÿå™¨æ•°æ®ã€æ–‡æœ¬å¤„ç†"
      probability: 1.0         # 50%æ¦‚ç‡
      deadline_multiplier: 4.0 # æœ¬åœ°æ‰§è¡Œæ—¶é—´çš„2.5å€
      
    medium:
      data_range: [15, 20]     # MB  
      description: "çŸ­è§†é¢‘é¢„å¤„ç†ã€è½»åº¦å›¾åƒè¯†åˆ«"
      probability: 0.0         # 20%æ¦‚ç‡
      deadline_multiplier: 3.0 # æœ¬åœ°æ‰§è¡Œæ—¶é—´çš„2å€
      
    large:
      data_range: [150, 200]   # MB
      description: "é«˜æ¸…è§†é¢‘åˆ†æã€å¤æ‚AIæ¨ç†"
      probability: 0.0           # 0%æ¦‚ç‡
      deadline_multiplier: 2.0 # æœ¬åœ°æ‰§è¡Œæ—¶é—´çš„1.5å€
  
  # æ³Šæ¾åˆ°è¾¾è¿‡ç¨‹é…ç½®
  poisson_config:
    base_arrival_rate: 0.5     # åŸºç¡€åˆ°è¾¾ç‡ï¼ˆæ¯æ­¥æ¯è®¾å¤‡å¹³å‡ä»»åŠ¡æ•°ï¼‰
    time_pattern_enabled: false # å¯ç”¨æ—¶é—´æ¨¡å¼
    pattern_cycle: 20          # æ—¶é—´æ¨¡å¼å‘¨æœŸï¼ˆæ­¥æ•°ï¼‰
    peak_hours: [5, 15]        # é«˜å³°æ—¶æ®µï¼ˆåœ¨å‘¨æœŸå†…çš„ä½ç½®ï¼‰
    peak_multiplier: 2.0       # é«˜å³°æœŸåˆ°è¾¾ç‡å€æ•°
    low_multiplier: 0.5        # ä½å³°æœŸåˆ°è¾¾ç‡å€æ•°

# MADDPGç®—æ³•é…ç½®
maddpg:
  num_agents: 10             # ç­‰äºè®¾å¤‡æ•°é‡
  
  # ç½‘ç»œç»“æ„
  actor_hidden_dims: [128, 64]
  critic_hidden_dims: [256, 128]
  
  # è®­ç»ƒå‚æ•°ï¼ˆä¼˜åŒ–ç‰ˆï¼‰
  max_episodes: 1000         # è®­ç»ƒè½®æ•°
  max_steps: 200            # æ¯è½®æœ€å¤§æ­¥æ•°
  train_frequency: 50        # ğŸ†• æ¯50æ­¥è®­ç»ƒä¸€æ¬¡ï¼ˆå¹³è¡¡è®­ç»ƒæ•ˆç‡å’Œç¨³å®šæ€§ï¼‰
  
  # å­¦ä¹ ç‡
  lr_actor: 0.00001
  lr_critic: 0.00001
  gamma: 0.99               # æŠ˜æ‰£å› å­
  tau: 0.005                # è½¯æ›´æ–°ç³»æ•°
  
  # ç»éªŒå›æ”¾
  buffer_size: 8192
  batch_size: 128
  
  # æ¢ç´¢å™ªå£°
  noise_type: "ou"          # Ornstein-Uhlenbeckå™ªå£°
  noise_theta: 0.15
  noise_sigma: 0.2
  noise_decay: 0.995

# LLM+MADDPGç®—æ³•é…ç½®
llm_maddpg:
  # ç»§æ‰¿MADDPGåŸºç¡€é…ç½®
  inherit_from: "maddpg"
  
  # LLMç‰¹å®šè®­ç»ƒå‚æ•°
  max_episodes: 1000         # ğŸ†• LLMæŒ‡å¯¼ä¸‹å¯ä»¥ç”¨æ›´å°‘è½®æ•°è¾¾åˆ°æ”¶æ•›
  max_steps: 200           # ğŸ†• æ¯è½®æ­¥æ•°å¯ä»¥é€‚å½“å‡å°‘
  train_frequency: 50       # ğŸ†• æ¯50æ­¥è®­ç»ƒä¸€æ¬¡ï¼ˆç»™LLMæŒ‡å¯¼æ›´å¤šå‘æŒ¥ç©ºé—´ï¼‰
  
  # LLMæŒ‡å¯¼ç­–ç•¥
  llm_episode_interval: 10   # ğŸ†• æ¯10ä¸ªEpisodeä½¿ç”¨ä¸€æ¬¡LLMæŒ‡å¯¼
  llm_distill_weight: 0.1   # ğŸ†• LLMçŸ¥è¯†è’¸é¦æƒé‡ï¼ˆå›ºå®šæƒé‡æ¨¡å¼ä¸‹ä½¿ç”¨ï¼‰
  
  # ğŸ†• ä¸‰é˜¶æ®µé€€ç«ç­–ç•¥é…ç½®
  use_annealing: true                     # å¯ç”¨é€€ç«ç­–ç•¥
  initial_llm_distill_weight: 0.8        # åˆå§‹è’¸é¦æƒé‡ï¼ˆé«˜æƒé‡ï¼Œå……åˆ†åˆ©ç”¨ä¸“å®¶çŸ¥è¯†ï¼‰
  constant_llm_distill_weight: 0.15      # æ’å®šæœŸè’¸é¦æƒé‡ï¼ˆå¹³è¡¡æ¢ç´¢ä¸åˆ©ç”¨ï¼‰
  final_llm_distill_weight: 0.0          # æœ€ç»ˆè’¸é¦æƒé‡ï¼ˆå®Œå…¨è‡ªä¸»å­¦ä¹ ï¼‰
  stage1_end_episode: 300                 # é˜¶æ®µ1ç»“æŸè½®æ•°ï¼ˆä¸“å®¶æŒ‡å¯¼é˜¶æ®µï¼‰
  stage2_end_episode: 700                 # é˜¶æ®µ2ç»“æŸè½®æ•°ï¼ˆå¹³è¡¡æ¢ç´¢é˜¶æ®µï¼‰
  # é˜¶æ®µ3ä»701è½®å¼€å§‹ï¼Œåœ¨100è½®å†…å¿«é€Ÿé€€ç«åˆ°0
  
  # æ—©æœŸæ¢ç´¢å¢å¼º
  exploration_episodes: 900  # ğŸ†• å‰80%è½®æ•°å¢åŠ æ¢ç´¢ï¼ˆ0.9 * 1000ï¼‰

mappo:
  lr_actor: 0.0003
  lr_critic: 0.001
  gamma: 0.99
  lam: 0.95
  clip_range: 0.2
  entropy_coeff: 0.01
  value_coeff: 0.5
  update_epochs: 4
  batch_size: 64
  max_episodes: 200
  max_steps: 200

happo:
  lr_actor: 0.0003
  lr_critic: 0.001
  gamma: 0.99
  lam: 0.95
  clip_range: 0.2
  kl_coeff: 0.5
  entropy_coeff: 0.01
  value_coeff: 0.5
  update_epochs: 4
  batch_size: 64
  max_episodes: 200
  max_steps: 200

# LLMé…ç½®
llm:
  # LLMæœåŠ¡é…ç½®ï¼ˆqwen3-14bï¼‰
  base_url: "http://10.200.1.35:8888/v1/completions"
  model_name: "qwen3-14b"
  api_key: ""
  
  # # é˜¿é‡Œäº‘LLMæœåŠ¡é…ç½®ï¼ˆqwen-plusï¼‰
  # base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions"
  # model_name: "qwen-plus-latest"
  # api_key: "sk-1907a18fea6640c6aac5b4194920169f"
  
  # è¿æ¥å‚æ•°
  timeout: 120              # è¿æ¥è¶…æ—¶æ—¶é—´(ç§’)
  read_timeout: 500         # è¯»å–è¶…æ—¶æ—¶é—´(ç§’)
  max_retries: 1            # æœ€å¤§é‡è¯•æ¬¡æ•°
  
  # LLMæŒ‡å¯¼å‚æ•°
  temperature: 0.3
  max_tokens: 32768         # æœ€å¤§tokenæ•°ï¼Œç¡®ä¿å®Œæ•´å“åº”
  enable_expert_guidance: true

# éšæœºç§å­
seed: 42

# æµ‹è¯•é…ç½®
testing:
  num_episodes: 200         # ğŸ†• æµ‹è¯•è½®æ•°ï¼ˆä»2000å‡å°‘åˆ°200ï¼Œæé«˜æµ‹è¯•æ•ˆç‡ï¼‰
  max_steps: 200            # ğŸ†• æµ‹è¯•æ—¶æ¯è½®æœ€å¤§æ­¥æ•°
  save_results: true        # ä¿å­˜æµ‹è¯•ç»“æœ
  detailed_logging: true    # è¯¦ç»†æ—¥å¿—

# è®­ç»ƒé…ç½®ï¼ˆç»Ÿä¸€ç®¡ç†ï¼‰
training:
  # é€šç”¨è®­ç»ƒå‚æ•°
  episodes: 1000             # ğŸ†• é»˜è®¤è®­ç»ƒè½®æ•°ï¼ˆå‘½ä»¤è¡Œå‚æ•°é»˜è®¤å€¼ï¼‰
  save_frequency: 100       # æ¨¡å‹ä¿å­˜é¢‘ç‡ï¼ˆæ¯100è½®ä¿å­˜ä¸€æ¬¡ï¼‰
  log_frequency: 20         # æ—¥å¿—è¾“å‡ºé¢‘ç‡ï¼ˆæ¯20è½®è¾“å‡ºä¸€æ¬¡ï¼‰
  plot_frequency: 500        # ç»˜å›¾é¢‘ç‡ï¼ˆæ¯500è½®ç»˜åˆ¶ä¸€æ¬¡ï¼‰
  
  # è®­ç»ƒç­–ç•¥
  warm_up_episodes: 0      # ğŸ†• é¢„çƒ­è½®æ•°ï¼ˆä¸è¿›è¡Œè®­ç»ƒï¼Œåªæ”¶é›†ç»éªŒï¼‰
  early_stopping_patience: 200  # ğŸ†• æ—©åœè€å¿ƒå€¼ï¼ˆ200è½®æ— æ”¹å–„åˆ™åœæ­¢ï¼‰
  convergence_threshold: 0.01   # ğŸ†• æ”¶æ•›é˜ˆå€¼ï¼ˆå¥–åŠ±å˜åŒ–å°äºæ­¤å€¼è®¤ä¸ºæ”¶æ•›ï¼‰
  
  # è®­ç»ƒæ¨¡å¼é€‰æ‹©
  algorithms:
    maddpg:
      enabled: true
      max_episodes: 1000
      max_steps: 200
      train_frequency: 50
      
    llm_maddpg:
      enabled: true  
      max_episodes: 1000
      max_steps: 200
      train_frequency: 50
      
    llm_only:
      enabled: true
      max_episodes: 100     # ğŸ†• çº¯LLMç®—æ³•episodeæ•°
      max_steps: 10
      train_frequency: null  # çº¯LLMä¸éœ€è¦è®­ç»ƒé¢‘ç‡

# å¥–åŠ±å‡½æ•°é…ç½®
reward:
  # å¥–åŠ±æƒé‡
  latency_weight: 10.0      # æ—¶å»¶æ”¹å–„å¥–åŠ±æƒé‡
  energy_weight: 5.0        # èƒ½è€—æ”¹å–„å¥–åŠ±æƒé‡
  deadline_weight: 0.0      # æˆªæ­¢æ—¶é—´æ»¡è¶³å¥–åŠ±æƒé‡
  balance_weight: 0      # è´Ÿè½½å‡è¡¡å¥–åŠ±æƒé‡
  
  # # æƒ©ç½šé…ç½®
  # overtime_penalty: 10.0    # è¶…æ—¶æƒ©ç½šæƒé‡
  # communication_penalty: 0.1 # è¿‡åº¦é€šä¿¡æƒ©ç½šï¼ˆé¼“åŠ±å‡å°‘ä¸å¿…è¦çš„äº‘ç«¯å¸è½½ï¼‰

# ğŸ†• å®éªŒå¯¹æ¯”é…ç½®
comparison:
  # å¯¹æ¯”å®éªŒè®¾ç½®
  run_all_algorithms: true   # æ˜¯å¦è¿è¡Œæ‰€æœ‰ç®—æ³•è¿›è¡Œå¯¹æ¯”
  
  # ç»Ÿä¸€æµ‹è¯•å‚æ•°
  test_episodes: 1000
  test_steps: 200
  
  # æ€§èƒ½æŒ‡æ ‡è®¡ç®—
  metrics_window: 50        # è®¡ç®—å¹³å‡æ€§èƒ½çš„çª—å£å¤§å°
  
  # ç»“æœä¿å­˜
  save_comparison_plots: true
  save_detailed_logs: true

# ç®€åŒ–è®¾è®¡åŸåˆ™
design_principles:
    - "è¾¹ç¼˜åœºæ™¯çš„æ—¶å»¶æ•æ„Ÿæ€§ï¼šé˜Ÿåˆ—ç­‰å¾…æ—¶é—´æ¯”èµ„æºåˆ©ç”¨ç‡æ›´é‡è¦"
    - "CPUé¢‘ç‡æ˜¯è®¾å¤‡è®¡ç®—èƒ½åŠ›çš„æœ€ç›´æ¥æŒ‡æ ‡"
    - "ä»»åŠ¡è´Ÿè½½ = å½“å‰æ‰§è¡Œå‰©ä½™æ—¶é—´ + é˜Ÿåˆ—ä¸­æ‰€æœ‰ä»»åŠ¡å¤„ç†æ—¶é—´"
    - "äº‘æœåŠ¡å™¨èµ„æºæ— é™ï¼Œæ— ä»»åŠ¡è´Ÿè½½æ¦‚å¿µ"
    - "å·®å¼‚åŒ–é€šä¿¡å»¶è¿Ÿï¼šè¾¹ç¼˜å¿«é€Ÿã€äº‘ç«¯æ…¢é€Ÿï¼Œå¹³è¡¡è®¡ç®—å¸è½½é€‰æ‹©"
    - "è®­ç»ƒé¢‘ç‡ä¼˜åŒ–ï¼šMADDPGæ›´é¢‘ç¹è®­ç»ƒï¼ŒLLM+MADDPGç»™ä¸“å®¶æŒ‡å¯¼æ›´å¤šç©ºé—´"

# å®éªŒå‡è®¾æ¡ä»¶ï¼ˆæ›´æ–°ï¼‰
assumptions:
    - "ç½‘ç»œå¸¦å®½åœ¨çŸ­æ—¶çª—å£å†…ç¨³å®šï¼Œä½†è¾¹ç¼˜å’Œäº‘ç«¯é€šä¿¡å­˜åœ¨æ˜¾è‘—å»¶è¿Ÿå·®å¼‚"
    - "ä»»åŠ¡åˆ†å‰²åæ— ä¾èµ–å…³ç³»ï¼Œå¯æŒ‰ä»»æ„æ¯”ä¾‹åˆ’åˆ†å’Œå¸è½½"  
    - "è¾¹ç¼˜æœåŠ¡å™¨èµ„æºæœ‰é™ï¼Œå­˜åœ¨é˜Ÿåˆ—ç­‰å¾…ï¼›äº‘æœåŠ¡å™¨èµ„æºæ— é™"
    - "é‡‡ç”¨æ—¶åˆ†å¤šå€(TDMA)æŠ€æœ¯é¿å…å¹²æ‰°"
    - "äº‘ç«¯å¸è½½ç»è¾¹ç¼˜æœåŠ¡å™¨ä¸­è½¬ï¼Œæ€»é€šä¿¡å»¶è¿Ÿæ›´é«˜"
    - "ğŸ†• è®­ç»ƒé¢‘ç‡å·®å¼‚åŒ–ï¼šçº¯å¼ºåŒ–å­¦ä¹ éœ€è¦æ›´é¢‘ç¹æ›´æ–°ï¼Œä¸“å®¶æŒ‡å¯¼å­¦ä¹ éœ€è¦æ›´å¤šæ—¶é—´æ¶ˆåŒ–çŸ¥è¯†"

# æ€§èƒ½æŒ‡æ ‡
metrics:
    - "å¹³å‡ä»»åŠ¡å®Œæˆæ—¶å»¶"
    - "æ€»èƒ½è€—æ¶ˆè€—"
    - "æˆªæ­¢æ—¶é—´æ»¡è¶³ç‡"
    - "è¾¹ç¼˜æœåŠ¡å™¨è´Ÿè½½å‡è¡¡åº¦"
    - "é€šä¿¡æ•ˆç‡ï¼ˆè¾¹ç¼˜vsäº‘ç«¯å¸è½½æ¯”ä¾‹ï¼‰"
    - "ğŸ†• è®­ç»ƒæ”¶æ•›é€Ÿåº¦"
    - "ğŸ†• ç®—æ³•æ€§èƒ½å¯¹æ¯”"
